<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="client.css">
    <script src="https://code.jquery.com/jquery-2.2.4.js" integrity="sha256-iT6Q9iMJYuQiMWNd9lDyBUStIq/8PuOW33aOqmvFpqI=" crossorigin="anonymous"></script>
  </head>
 
  <body>

  <h1>Index</h1>
  <ul id="chat_area">
    
  </ul>
  <form id="nickname_form">
    <label>Nickname:</label>
    <input id="nickname" type="text">
    <button>Submit</button>
  </form>
  <form id="message_form">
    <label>Message: </label>
    <input id="message" type="text">
    <button>Submit</button>
  </form>
  <p id="users">Current users:</p>
  
  <!-- this will be on the main page -->
  <iframe id="spotifyPlayer" frameborder="0" allowtransparency="true" width="800px"></iframe>

  <div id="queue"></div>  

  <!-- this will be on the main page -->

  <!-- this will be the guest user page -->
  <div class="btn-group btn-group-justified" role="group" aria-label="...">
    <div class="btn-group" role="group">
      <button type="button" onclick="searchForTracks()" class="btn btn-default">Search</button>
    </div>
    <div class="btn-group" role="group">
      <button type="button" onclick="getPlaylist()" class="btn btn-default">UpVote/DownVote</button>
    </div>
    <div class="btn-group" role="group">
      <button type="button" class="btn btn-default">Exit</button>
    </div>
  </div>

  <div id="autocomplete" class="center-block" style="margin-top: 20px; margin-bottom: 20px;">
    <input id="search" placeholder="Search for Tracks" class="center-block"></input>
  </div>

  <table id="tableResults" class="table table-striped col-md-12">
    <thead>
      <tr>
        <th class="text-center">Track Name</th>
        <th class="text-center">Artist</th>
        <th class="text-center">Preview</th>
        <th class="text-center"></th>  
      </tr>
    </thead>
    <tbody id="searchResults">
    </tbody>
  </table>

  <script src="client.js"></script>
  <script src='/socket.io/socket.io.js'></script>  
  <script>
    var socket = io();
    $('#nickname_form').submit(function(){
      socket.emit('name submit', $('#nickname').val());
      $('#nickname_form').hide();
      $('#message_form').show();
      return false;
    })
    $('#message_form').submit(function(){
      socket.emit('chat message', $('#message').val());
      $('#message').val('');
      return false;
    })
    socket.on('chat message', function(message){
      $('#chat_area').append('<li>' + message);
    })
    socket.on('name submit', function(name){
      $('#users').append(name + '');
    })
  </script>

  </body>
</html>


